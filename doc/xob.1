.\" Automatically generated by Pandoc 2.2.2.1
.\"
.TH "XOB" "1" "August 2018" "xob 0.1.0" ""
.hy
.SH NAME
.PP
xob \- A lightweight overlay volume/backlight/progress/anything bar for
the X Window System.
.SH SYNOPSIS
.PP
\f[B]xob\f[]\ [\f[B]\-m\f[] \f[I]maximum\f[]] [\f[B]\-t\f[]
\f[I]timeout\f[]] [\f[B]\-c\f[] \f[I]configfile\f[]]\ [\f[B]\-s\f[]
\f[I]style\f[]]
.SH DESCRIPTION
.PP
\f[B]xob\f[] (the X Overlay Bar) displays numerical values fed through
the standard input on a bar that looks like the volume bar on a
television screen.
When a new integer value is read on the standard input, the bar is
displayed over other windows for a configurable amount of time and then
disapears until it is fed a new value.
When a value is followed by a bang `!', an alternative color is used.
This feature makes it possible to provide visual feedback for
alternative states (e.g.\ unmuted/muted, auto/manual).
The appearance is configurable through options described in this manual.
The way overflows (when the value exceeds the maximum) are displayed is
also configurable.
The program ends when it reads \[lq]end\[rq] or \[lq]quit\[rq] (or
actually anything else than a number).
.SH OPTIONS
.TP
.B \f[B]\-m\f[] \f[I]maximum\f[]
Number of steps in the bar (and maximum value since 0 is always the
minimum value).
By default: 100.
.RS
.RE
.TP
.B \f[B]\-t\f[] \f[I]timeout\f[]
Number of seconds between an update and the vanishing of the gauge.
If set to 0, the bar is never hidden.
By default: 1.
.RS
.RE
.TP
.B \f[B]\-s\f[] \f[I]style\f[]
Style (appearance) to choose in the configuration file.
By default: default.
.RS
.RE
.TP
.B \f[B]\-c\f[] \f[I]configfile\f[]
Specifies a configuration file path.
By default: see below.
.RS
.RE
.SH CONFIGURATION FILE
.PP
The configuration file only specifies styles (appearances) for the bar.
The maximum value and timeout are set by \f[B]\-m\f[] and \f[B]\-t\f[].
When starting, xob looks for the configuration file in the following
order:
.IP "1." 3
The path specified as the \f[B]\-c\f[] argument.
.IP "2." 3
$XDG_CONFIG_HOME$/xob/styles.cfg (if $XDG_CONFIG_HOME$ is set)
.IP "3." 3
~/.config/xob/styles.cfg
.IP "4." 3
/etc/xob/styles.cfg
.SS SYNTAX
.PP
The configuration file adheres to the libconfig syntax.
An option is set up using \[lq]=\[rq] or \[lq]:\[rq].
The options are separated using \[lq];\[rq].
.IP
.nf
\f[C]
option1\ =\ value1;
option2\ =\ value2;
\f[]
.fi
.PP
Commented lines start with \[lq]#\[rq].
.IP
.nf
\f[C]
#\ This\ is\ a\ comment
\f[]
.fi
.PP
Options can be grouped together inside curly brackets.
Some options expect a group as a value.
.IP
.nf
\f[C]
option3\ =\ {
\ \ \ \ suboptionA\ =\ valueA;
\ \ \ \ suboptionB\ =\ {
\ \ \ \ \ \ \ \ subsuboptionB1\ =\ valueB1;
\ \ \ \ \ \ \ \ subsuboptionB2\ =\ valueB2;
\ \ \ \ \ \ \ \ };
\ \ \ \ suboptionC\ =\ valueC;
};
\f[]
.fi
.SS OPTIONS
.IP
.nf
\f[C]
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ length
\ \ \ \ \ \ ───────────────────────────
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░]\ outline
░░███████████████████████████████████░░]\ border
░░██░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░]\ padding
░░██░░████████████░░░░░░░░░░░░░░░░░██░░│
░░██░░█foreground█░░░░background░░░██░░│\ thickness
░░██░░████████████░░░░░░░░░░░░░░░░░██░░│
░░██░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░]\ padding
░░██████████████border███████████████░░]\ border
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░]\ outline
\ \ \ \ \ \ |\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ |
\ \ \ \ \ \ 0\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ maximum
\f[]
.fi
.PP
In the following, a dot \[lq].\[rq] means \[lq]suboption\[rq].
For instance \[lq]color.normal.fg\[rq] means \[lq]The suboption fg of
the suboption normal of option color\[rq].
.TP
.B \f[B]x.relative\f[] \f[I]ratio\f[] (default: 0.5)
Relative horizontal position on screen between 0.0 (left edge) and 1.0
(right edge).
Centered by default (0.5).
.RS
.RE
.TP
.B \f[B]x.offset\f[] \f[I]pixels\f[] (default: 0.0)
Horizontal offset in pixels from the position specified with
\f[B]x.relative\f[].
This can be used for absolute positioning from an edge of the screen,
creating gaps, stacking bars, etc.
.RS
.RE
.TP
.B \f[B]y.relative\f[] \f[I]ratio\f[] (default: 0.9)
Relative vertical position on screen between 0.0 (top edge) and 1.0
(bottom edge).
.RS
.RE
.TP
.B \f[B]y.offset\f[] \f[I]pixels\f[] (default: 0.0)
Vertical offset in pixels from the position specified with
\f[B]y.relative\f[].
This can be used for absolute positioning from an edge of the screen,
creating gaps, stacking bars, etc.
.RS
.RE
.TP
.B \f[B]length.relative\f[] \f[I]ratio\f[] (default: 0.2)
Relative width of the bar between 0.0 (collapsed) and 1.0 (full screen
width).
.RS
.RE
.TP
.B \f[B]length.offset\f[] \f[I]pixels\f[] (default: 0.0)
Width offset in pixels from the width specified with
\f[B]length.relative\f[].
This can be used for absolute sizes (using positive values and 0 as
\f[B]length.relative\f[]) or creating gaps (using negative values and 1
as \f[B]length.relative\f[]).
.RS
.RE
.TP
.B \f[B]thickness.absolute\f[] \f[I]positive integer\f[] (default: 24)
Height in pixels without taking borders into account.
.RS
.RE
.TP
.B \f[B]border\f[] \f[I]pixels\f[] (default: 4)
Size of the border in pixels.
.RS
.RE
.TP
.B \f[B]outline\f[] \f[I]pixels\f[] (default: 3)
Size of the outline in pixels.
.RS
.RE
.TP
.B \f[B]padding\f[] \f[I]pixels\f[] (default: 3)
Size of the padding in pixels.
.RS
.RE
.TP
.B \f[B]overflow\f[] \f[I]\[lq]hidden\[rq] | \[lq]proportional\[rq]\f[] (default: proportional)
When \[lq]hidden\[rq] is set, a full bar is displayed using the overflow
color when the value exceeds the maximum, whatever that value is.
When \[lq]proportional\[rq] is set, only a portion of the bar whose size
depends on the overflow is displayed using the overflow color.
If the value is twice the maximum, half the bar is displayed using the
overflow color.
The two zones are separated by a padding\-sized gap.
.RS
.RE
.PP
Each of the following have three suboptions \[lq].fg\[rq],
\[lq].bg\[rq], and \[lq].border\[rq] corresponding to hexadecimal RGB
specifications (e.g.
#ff0000) of the colors of the foreground, the backgroud, and the border.
.TP
.B \f[B]color.normal\f[] \f[I]colors\f[] (default: {fg = \[lq]#ffffff\[rq]; bg = \[lq]#000000\[rq]; border = \[lq]#ffffff\[rq];})
Colors in the general case.
.RS
.RE
.TP
.B \f[B]color.alt\f[] \f[I]colors\f[] (default: {fg = \[lq]#555555\[rq]; bg = \[lq]#000000\[rq]; border = \[lq]#555555\[rq];})
Colors for alternate display (e.g.\ muted).
.RS
.RE
.TP
.B \f[B]color.overflow\f[] \f[I]colors\f[] (default: {fg = \[lq]#ff0000\[rq]; bg = \[lq]#000000\[rq]; border = \[lq]#ff0000\[rq];})
Colors in case of overflow (the displayed valued exceeds the maximum).
.RS
.RE
.TP
.B \f[B]color.altoverflow\f[] \f[I]colors\f[] (default: {fg = \[lq]#ff0000\[rq]; bg = \[lq]#000000\[rq]; border = \[lq]#555555\[rq];})
Colors for alternate display in case of overflow.
.RS
.RE
.SS STYLES
.PP
All the options described above must be encompassed inside a style
specification.
A style consists of a group of all or some of the options described
above.
The name of the style is the name of an option at the root level of the
configuration file.
When an option is missing from a style, the default values are used
instead.
A configuration file may specify several styles (at least 1) to choose
using the \f[B]\-s\f[] argument.
.PP
This example configuration file provides two styles \[lq]volume\[rq] and
\[lq]backlight\[rq].
Instances of xog launched with \f[B]\-s volume\f[] and \f[B]\-s
backlight\f[] will look according to the corresponding style.
.IP
.nf
\f[C]
volume\ =\ {
\ \ \ \ thickness\ =\ 24;
\ \ \ \ outline\ \ \ =\ 1;
\ \ \ \ border\ \ \ \ =\ 2;
\ \ \ \ padding\ \ \ =\ 0;
};
backlight\ =\ {
\ \ \ \ thickness\ =\ 24;
\ \ \ \ outline\ \ \ =\ 1;
\ \ \ \ border\ \ \ \ =\ 2;
\ \ \ \ padding\ \ \ =\ 0;

\ \ \ \ #\ To\ prevent\ overlap\ with\ the\ volume\ bar\ if\ displayed\ at\ the\ same\ time
\ \ \ \ y\ =\ {offset\ =\ \-28}

\ \ \ \ color\ =\ {
\ \ \ \ \ \ \ \ normal\ =\ {
\ \ \ \ \ \ \ \ \ \ \ \ fg\ \ \ \ \ =\ "#0000ff";
\ \ \ \ \ \ \ \ \ \ \ \ bg\ \ \ \ \ =\ "#000000";
\ \ \ \ \ \ \ \ \ \ \ \ border\ =\ "#0000ff";
\ \ \ \ \ \ \ \ };
\ \ \ \ };
};
\f[]
.fi
.SS DEFAULT CONFIGURATION FILE
.IP
.nf
\f[C]
default\ =\ {
\ \ \ \ x\ \ \ \ \ \ \ \ \ =\ {relative\ =\ 0.0;\ offset\ =\ 0;};
\ \ \ \ y\ \ \ \ \ \ \ \ \ =\ {relative\ =\ 0.9;\ offset\ =\ 0;};
\ \ \ \ length\ \ \ \ =\ {relative\ =\ 0.2;\ offset\ =\ 0;};
\ \ \ \ thickness\ =\ 24;
\ \ \ \ outline\ \ \ =\ 3;
\ \ \ \ border\ \ \ \ =\ 4;
\ \ \ \ padding\ \ \ =\ 3;

\ \ \ \ overflow\ =\ "proportional";

\ \ \ \ color\ =\ {
\ \ \ \ \ \ \ \ normal\ =\ {
\ \ \ \ \ \ \ \ \ \ \ \ fg\ \ \ \ \ =\ "#ffffff";
\ \ \ \ \ \ \ \ \ \ \ \ bg\ \ \ \ \ =\ "#000000";
\ \ \ \ \ \ \ \ \ \ \ \ border\ =\ "#ffffff";
\ \ \ \ \ \ \ \ };
\ \ \ \ \ \ \ \ alt\ =\ {
\ \ \ \ \ \ \ \ \ \ \ \ fg\ \ \ \ \ =\ "#555555";
\ \ \ \ \ \ \ \ \ \ \ \ bg\ \ \ \ \ =\ "#000000";
\ \ \ \ \ \ \ \ \ \ \ \ border\ =\ "#555555";
\ \ \ \ \ \ \ \ };
\ \ \ \ \ \ \ \ overflow\ =\ {
\ \ \ \ \ \ \ \ \ \ \ \ fg\ \ \ \ \ =\ "#ff0000";
\ \ \ \ \ \ \ \ \ \ \ \ bg\ \ \ \ \ =\ "#000000";
\ \ \ \ \ \ \ \ \ \ \ \ border\ =\ "#ff0000";
\ \ \ \ \ \ \ \ };
\ \ \ \ \ \ \ \ altoverflow\ =\ {
\ \ \ \ \ \ \ \ \ \ \ \ fg\ \ \ \ \ =\ "#ff0000";
\ \ \ \ \ \ \ \ \ \ \ \ bg\ \ \ \ \ =\ "#000000";
\ \ \ \ \ \ \ \ \ \ \ \ border\ =\ "#555555";
\ \ \ \ \ \ \ \ };
\ \ \ \ };
};
\f[]
.fi
.SH BASIC USE CASE EXAMPLE
.PP
You can manage a basic audio volume or backlight intensity (or whatever)
bar using a named pipe.
Create a named pipe, e.g.
\f[I]/tmp/xobpipe\f[], on your filesystem using
.IP
.nf
\f[C]
mkfifo\ /tmp/xobpipe
\f[]
.fi
.PP
Connect the named pipe to the standard input of an xob instance.
.IP
.nf
\f[C]
tail\ \-f\ /tmp/xobpipe\ |\ xob
\f[]
.fi
.PP
After updating audio volume, backlight intensity, or whatever, to 43:
.IP
.nf
\f[C]
echo\ 43\ >\ /tmp/xobpipe
\f[]
.fi
.PP
Adapt this use\-case to your workflow (scripts, callbacks, or
keybindings handled the window manager).
.SH FAQ
.RS
.PP
\[lq]How should I display different sources of information (e.g.\ volume
and brightness)?\[rq] \[lq]What happens if several bars are displayed at
the same time?\[rq]
.RE
.PP
You can run and distinguish two or more instances of \f[B]xob\f[] with
different styles (including color, position, extreme values, etc.).
To do so, specify and use different styles from your configuration file
(or use different configuration files).
To prevent the bars from overlapping, make use of the offset options.
For instance you can offset a bar to the top or bottom (see the example
provided in the \f[B]STYLES\f[] section).
.RS
.PP
\[lq]Can I integrate xob in a panel of my desktop environment or window
manager?\[rq]
.RE
.PP
There is no support for panel integration.
You can however use absolute positioning and no timeout
(\f[I]timeout\f[] set at 0) to mimic this behaviour in simple
situations.
.RS
.PP
\[lq]How to set up xob with multiple monitors?\[rq]
.RE
.PP
xob works well under multihead setups but there is no easy way to
configure the position of the bar for now.
For example, in a dual monitor setup with the default configuration, the
horizontal centering is not local to one of the two monitors.
It is global.
The bar might be split in two: one part on each screen.
Stick to a corner or use absolute positioning.
If you want an xob instance to be centered (horizontally) on the
far\-right monitor, set \f[I]x.relative\f[] to 1.0 (anchored on the far
right) and the \f[I]x.offset\f[] to minus half the width of that screen.
.SH PLANNED FEATURES
.IP \[bu] 2
Multihead\-friendly configuration.
.IP \[bu] 2
Vertical mode.
.IP \[bu] 2
New overflow styles.
.IP \[bu] 2
Smooth transitions.
.PP
Contributions and critics are welcome.
.SH AUTHORS
Florent Ch.
